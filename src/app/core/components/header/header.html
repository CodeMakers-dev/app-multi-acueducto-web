<header class="bg-blue-600 text-white flex items-center justify-between px-6 py-3 shadow-md relative">

    <button class="md:hidden text-white focus:outline-none cursor-pointer" (click)="mostrarMenu = !mostrarMenu">
        <i class="fas fa-bars text-2xl"></i>
    </button>

    <nav class="hidden md:flex space-x-6">
        <a href="#" class="hover:underline underline-offset-4">Clientes</a>
        <a href="#" class="hover:underline underline-offset-4">Facturas</a>
        <a href="#" class="hover:underline underline-offset-4">Lecturas</a>
        <a href="#" class="hover:underline underline-offset-4">Empleados</a>
        <a href="#" class="hover:underline underline-offset-4">Contadores</a>
    </nav>
    <div *ngIf="mostrarMenu" class="absolute top-full left-0 w-full bg-blue-700 flex flex-col md:hidden z-10">
        <a href="#" class="py-2 px-4 hover:bg-blue-800">Clientes</a>
        <a href="#" class="py-2 px-4 hover:bg-blue-800">Facturas</a>
        <a href="#" class="py-2 px-4 hover:bg-blue-800">Lecturas</a>
        <a href="#" class="py-2 px-4 hover:bg-blue-800">Empleados</a>
        <a href="#" class="py-2 px-4 hover:bg-blue-800">Contadores</a>
    </div>

    <div class="flex items-center space-x-3" *ngIf="usuario">

        <img [src]="imagenBase64" alt="Avatar" class="w-8 h-8 rounded-full object-cover cursor-pointer"
            (click)="abrirModal()" />


        <div *ngIf="mostrarModal" class="fixed inset-0 bg-transparent flex items-center justify-center z-20"
            (click)="cerrarModal()">

            <div class="relative" (click)="$event.stopPropagation()">
                <img [src]="imagenBase64" alt="Avatar grande" class="w-60 rounded-lg shadow-lg border-4 border-white" />


                <label
                    class="absolute bottom-2 right-2 bg-white rounded-full p-2 shadow cursor-pointer hover:bg-gray-200 transition">
                    <i class="fas fa-pen text-blue-600 text-sm"></i>
                    <input type="file" accept="image/*" class="hidden" (change)="onFileSelected($event)" />
                </label>
            </div>
        </div>


        <ng-template #iconoUsuario>
            <div class="w-8 h-8 rounded-full bg-white flex items-center justify-center cursor-default">
                <i class="fas fa-user text-gray-600 text-lg"></i>
            </div>
        </ng-template>


        <span class="text-sm font-medium text-white">{{ usuario.nombre || 'Usuario' }}</span>

        <button title="Cerrar sesiÃ³n" class="text-white hover:text-gray-200 cursor-pointer" (click)="cerrarSesion()">
            <i class="fas fa-sign-out-alt text-xl"></i>
        </button>
    </div>



</header>